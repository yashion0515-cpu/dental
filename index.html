<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">

  <!-- ã‚¹ãƒãƒ›æœ€é‡è¦ -->
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>æ­¯ç§‘åŒ»é™¢æƒ…å ±ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ </title>

  <!-- LIFF SDKï¼ˆheadå†…ã«å¿…é ˆï¼‰ -->
  <script src="https://static.line-scdn.net/liff/sdk/2.16.1/liff.js"></script>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
      background: #f4f4f4;
      font-size: 18px; /* â˜… åŸºæœ¬æ–‡å­—ã‚µã‚¤ã‚ºUP */
    }

    .container {
      width: 100%;
      max-width: 420px;   /* ã‚¹ãƒãƒ›ã§ãƒ”ãƒƒã‚¿ãƒª */
      margin: 0 auto;
      padding: 20px;
      background: #fff;
    }

    h1 {
      font-size: 22px;
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      font-size: 16px;
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    input {
      width: 100%;
      font-size: 18px; /* â˜… å…¥åŠ›æ–‡å­—ã‚’å¤§ãã */
      padding: 14px;
      margin-bottom: 18px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    button {
      width: 100%;
      font-size: 18px;
      padding: 16px;
      border-radius: 30px;
      border: none;
      background: #00B900;
      color: #fff;
      font-weight: bold;
    }

    .success-message {
      display: none;
      padding: 20px;
    }

    .success-card {
      background: #fff;
      padding: 24px;
      border-radius: 12px;
      text-align: center;
    }

    .success-title {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 12px;
    }

    .success-text {
      font-size: 16px;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .affiliate-button {
      display: block;
      padding: 14px;
      font-size: 18px;
      background: #000;
      color: #fff;
      border-radius: 30px;
      text-decoration: none;
    }
  </style>
</head>

<body>

  <!-- ãƒ•ã‚©ãƒ¼ãƒ  -->
  <div class="container" id="formContainer">
    <h1>é‡‘ä¹³æ­¯ å–æ‰±æ­¯ç§‘åŒ»é™¢ ç™»éŒ²</h1>

    <form id="registrationForm">
      <label>æ­¯ç§‘åŒ»é™¢å</label>
      <input type="text" id="hospitalName" required>

      <label>ä»£è¡¨è€…å</label>
      <input type="text" id="representativeName" required>

      <label>éƒµä¾¿ç•ªå·</label>
      <input type="text" id="postalCode" placeholder="1234567" required>

      <label>ä½æ‰€</label>
      <input type="text" id="address" required>

      <label>é›»è©±ç•ªå·</label>
      <input type="tel" id="phoneNumber" required>

      <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
      <input type="email" id="email" required>

      <button type="submit">ç™»éŒ²ã™ã‚‹</button>
    </form>
  </div>

  <!-- å®Œäº†ç”»é¢ -->
  <div id="successMessage" class="success-message">
    <div class="container">
      <div class="success-card">
        <div class="success-title">ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ ğŸ‰</div>
        <div class="success-text">
          ã”ç™»éŒ²ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚<br>
          ç¶šã„ã¦å ±é…¬ã‚’å—ã‘å–ã‚‹ãŸã‚ã«<br>
          <strong>ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆç™»éŒ²</strong>ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
        </div>
        <a class="affiliate-button"
           href="https://affitch.com/signup?ref=yashio-gold"
           target="_blank">
           ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆç™»éŒ²ã¸é€²ã‚€ â†’
        </a>
      </div>
    </div>
  </div>

<script>
  const GAS_ENDPOINT =
    "https://script.google.com/macros/s/AKfycbzzc3txSpGHGUK-KjJWjx58F5tvmO-PztIqMCdEP_Xeu7u5rwCo9RL_Ez5iG86Lpqc8/exec";

  const LIFF_ID = "2008433362-NxOdJgkP";

  // LIFFåˆæœŸåŒ–
async function initLiff() {
  try {
    await liff.init({ liffId: LIFF_ID });

    // LINEå¤–ãªã‚‰ä½•ã‚‚è¨€ã‚ãªã„ï¼ˆã‚¨ãƒ©ãƒ¼å‡ºã•ãªã„ï¼‰
    if (!liff.isInClient()) {
      console.log("LINEå¤–ã§é–‹ã‹ã‚Œã¦ã„ã¾ã™");
      return;
    }

  } catch (err) {
    console.error("LIFFã‚¨ãƒ©ãƒ¼", err);
    // alert ã‚’ä¸€æ—¦æ¶ˆã™
  }
}


  window.onload = initLiff;

  // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
  document.getElementById("registrationForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const data = {
      hospitalName: hospitalName.value,
      representativeName: representativeName.value,
      postalCode: postalCode.value,
      address: address.value,
      phoneNumber: phoneNumber.value,
      email: email.value
    };

    const response = await fetch(GAS_ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });

    if (response.ok) {
      document.getElementById("formContainer").style.display = "none";
      document.getElementById("successMessage").style.display = "block";
    } else {
      alert("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ");
    }
  });
</script>

</body>
</html>


